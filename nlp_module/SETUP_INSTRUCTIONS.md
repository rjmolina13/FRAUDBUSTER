# Firebase Model Upload Setup Instructions

This guide will help you set up Firebase Admin SDK credentials to upload your trained NLP models to Firebase Storage.

## Prerequisites

1. **Firebase Project**: You should have the FraudBuster Firebase project (`fraudbuster-c59d3`) already set up.
2. **Python Environment**: Make sure you have Python 3.7+ installed.

## Step-by-Step Setup

### 1. Install Dependencies

```bash
cd nlp_module
pip install -r requirements.txt
```

### 2. Generate Firebase Service Account Key

1. Go to the [Firebase Console](https://console.firebase.google.com/)
2. Select your project: **FraudBuster** (`fraudbuster-c59d3`)
3. Click on the **Settings gear icon** ‚Üí **Project settings**
4. Navigate to the **Service accounts** tab
5. Click **Generate new private key**
6. Download the JSON file
7. **Important**: Rename the downloaded file to `firebase-service-account.json`
8. Move it to the `nlp_module` directory (same folder as `upload_models.py`)

### 3. Verify File Structure

Your `nlp_module` directory should look like this:

```
nlp_module/
‚îú‚îÄ‚îÄ firebase-service-account.json  # ‚Üê The service account key you just downloaded
‚îú‚îÄ‚îÄ nlp_model.pkl                  # ‚Üê Generated by train_model.py
‚îú‚îÄ‚îÄ vectorizer.pkl                 # ‚Üê Generated by train_model.py
‚îú‚îÄ‚îÄ upload_models.py               # ‚Üê Upload script
‚îú‚îÄ‚îÄ train_model.py
‚îú‚îÄ‚îÄ requirements.txt
‚îî‚îÄ‚îÄ SETUP_INSTRUCTIONS.md          # ‚Üê This file
```

### 4. Run the Upload Script

```bash
python upload_models.py
```

### 5. Expected Output

If successful, you should see:

```
FraudBuster NLP Model Upload Script
========================================
‚úì Firebase initialized successfully for project: fraudbuster-c59d3

Uploading 2 model files...
‚úì Uploaded nlp_model.pkl -> models/nlp_model.pkl
  Public URL: https://storage.googleapis.com/fraudbuster-c59d3.firebasestorage.app/models/nlp_model.pkl
‚úì Uploaded vectorizer.pkl -> models/vectorizer.pkl
  Public URL: https://storage.googleapis.com/fraudbuster-c59d3.firebasestorage.app/models/vectorizer.pkl

Upload Summary:
‚úì Successfully uploaded: 2/2 files

üéâ All model files uploaded successfully!
The Chrome extension can now fetch these models from Firebase Storage.
```

## Security Notes

‚ö†Ô∏è **Important Security Considerations:**

1. **Never commit the service account key to version control**
2. The `firebase-service-account.json` file contains sensitive credentials
3. Add `firebase-service-account.json` to your `.gitignore` file
4. Keep the service account key file secure and only share it with authorized team members

## Troubleshooting

### Error: "Service account key not found"
- Make sure you downloaded the service account key and renamed it to `firebase-service-account.json`
- Verify the file is in the `nlp_module` directory

### Error: "Missing model files"
- Run `python train_model.py` first to generate the model files
- Make sure `nlp_model.pkl` and `vectorizer.pkl` exist in the `nlp_module` directory

### Error: "Permission denied" or "Firebase initialization failed"
- Verify your service account key is valid and not corrupted
- Check that your Firebase project ID is correct (`fraudbuster-c59d3`)
- Ensure Firebase Storage is enabled in your Firebase project

### Error: "firebase-admin not installed"
- Run `pip install -r requirements.txt` to install all dependencies

## Next Steps

After successfully uploading the models:

1. The models are now available at:
   - `https://storage.googleapis.com/fraudbuster-c59d3.firebasestorage.app/models/nlp_model.pkl`
   - `https://storage.googleapis.com/fraudbuster-c59d3.firebasestorage.app/models/vectorizer.pkl`

2. Update your Chrome extension to fetch these models from Firebase Storage
3. Implement model caching in the extension for better performance
4. Set up periodic model updates as needed

## Support

If you encounter any issues, check the Firebase Console logs or contact your development team.